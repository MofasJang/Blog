---
title: Spring中的IoC
copyright: false
date: 2021-07-02 13:53:02
tags: spring
categories:
- for babe
- spring
---
{% note info %}
Spring的主要特点是IoC和AOP，IoC是指Spring可以借助一个第三方容器，帮助用户进行多个对象之间依赖的控制。
AOP指面向切片编程，简单来说就是在代码运行时，将多个地方都需要的相同代码动态地插入到类的指定方法、指定位置上，从而减少代码之间的耦合和重复。
{% endnote %}
<!-- more -->
# IoC
## 耦合
### 耦合的意思
　　耦合就是模块之间互相调用、控制、传递数据，比如调用接口、两个模块引用同一个全局数据等，代码中要尽量避免耦合。

### 举个栗子
　　两种不同方法调用数据库驱动类，第一种就是耦合的，第二种就是不耦合的。
```java
//耦合方法，通过构造函数来创建驱动类，调用了函数接口
DriverManager.registerDriver(new com.mysql.jdbc.Driver());
//不耦合方法，通过字符串创建驱动类
Class.forName("com.mysql.jdbc.Driver");
```

## 解耦
　　在应用加载时，创建一个Map，用于存放三层对象，这个map就是一个容器。
### 工厂
　　开发时我们常把对象用配置文件进行保存，工厂就是读取配置文件、创建和获取三层对象的类。
　　需要获取对象时，向工厂要，工厂从容器中查找或创建。
![使用IoC容器将对象联系](3.jpg)

### 解耦过程示例
　　1. 对象之间依靠第三方容器进行联系、耦合
![使用IoC容器将对象联系](1.png)
　　2. 去掉容器后，对象自动解耦，没有丝毫联系
![删除IoC容器后对象解耦](2.png)

